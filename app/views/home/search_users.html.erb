<% if params[:query].present? %>
  <div class="search-banner" style="font-weight: 800; margin-right: auto; font-size:2rem; border-bottom:3px solid;">
    Searched “<%= h(params[:query]) %>”
  </div>
<% end %>


<% if @users.present? %>
  <div class="users-container">
    <% @users.each do |user| %>
      <div class="user-profile-box">
        <%= link_to profile_path(user), class: "user-profile-link" do %>
          <div class="profile-picture-container">
                        <div class="default-profile-picture-search" style="background-color: <%= user.profile_color %>;">
            <% if user.profile_picture.attached? %>
              <%= image_tag user.profile_picture, alt: "#{user.username}", class: "profile-picture-search" %>
            <% else %>
                <%= image_tag "default_profile.png", alt: "Default Profile Picture", class: "profile-picture-search" %>
            <% end %>
           </div>
          </div>
          <div class="profile-info">
            <span class="username"><%= user.username %></span>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
<% else %>
  <p>No profiles found</p>
<% end %>
