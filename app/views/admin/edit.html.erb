<div class="d-flex justify-content-center mt-5">
  <div class="card shadow-lg" style="max-width: 600px; width: 100%;">
    <div class="card-header bg-dark text-white">
      <h5 class="mb-0">Edit User</h5>
    </div>
    <div class="card-body">

      <% if flash[:errors] %>
        <div class="alert alert-danger">
          <% flash[:errors].each do |error| %>
            <div><%= error %></div>
          <% end %>
        </div>
      <% end %>

      <%= form_with(model: @user, url: admin_path(@user), method: :patch, local: true) do |f| %>

        <% if @user.profile_picture.attached? %>
          <div class="mb-4 text-center">
            <p class="mb-2 fw-semibold">Current Profile Picture:</p>
            <%= image_tag url_for(@user.profile_picture), class: "rounded-circle border", style: "width: 100px; height: 100px; object-fit: cover;" %><br>
            <div class="form-check mt-2">
              <%= f.check_box :remove_profile_picture, class: "form-check-input", id: "removeProfilePicture" %>
              <%= f.label :remove_profile_picture, "Remove profile picture", class: "form-check-label", style: "color:black;", for: "removeProfilePicture" %>
            </div>
          </div>
        <% end %>

        <div class="mb-3">
          <%= f.label :username, "Username", class: "form-label fw-semibold" %>
          <%= f.text_field :username, placeholder: "Enter username", class: "form-control" %>
        </div>

        <div class="mb-3">
          <%= f.label :email, "Email", class: "form-label fw-semibold" %>
          <%= f.text_field :email, placeholder: "Enter user's email", class: "form-control" %>
        </div>

        <div class="d-flex justify-content-between">
          <%= f.submit "Save", class: "btn btn-success rounded-pill px-4" %>
          <%= button_to "Back", admin_personas_path, method: :get, class: "btn btn-outline-secondary rounded-pill px-4" %>
        </div>

      <% end %>

    </div>
  </div>
</div>
